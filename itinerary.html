<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travel Itinerary</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="js/itineraryHandling.js" defer></script> <!-- Ensures script is loaded after HTML is parsed -->
</head>
<body>
    <header>
        <button onclick="toggleDarkMode()">Dark/Light Mode</button>
        <h1>Plan Your Travel Itinerary</h1>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="destinations.html">Destinations</a></li>
                <li><a href="transportation.html">Transportation</a></li>
                <li><a href="accommodation.html">Accommodation</a></li>
                <li><a href="services.html">Services</a></li>
                <li><a href="input.html">Input</a></li>
                <li><a href="itinerary.html">Travel Itinerary</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <form id="itineraryForm">
            <section>
                <label for="destinationSelect">Choose a destination:</label>
                <select id="destinationSelect" name="destination">
                    <option value="">-select-</option>
                    <!-- Options will be dynamically loaded by the itineraryHandling.js -->
                </select>
            </section>

            <section>
                <label for="transportationSelect">Choose transportation:</label>
                <select id="transportationSelect" name="transportation">
                    <option value="">-select-</option>
                    <!-- Options will be dynamically loaded by the itineraryHandling.js -->
                </select>
            </section>

            <section>
                <label for="accommodationSelect">Choose accommodation:</label>
                <select id="accommodationSelect" name="accommodation">
                    <option value="">-select-</option>
                    <!-- Options will be dynamically loaded by the itineraryHandling.js -->
                </select>
            </section>

            <section>
                <label for="serviceSelect">Choose a service:</label>
                <select id="serviceSelect" name="service">
                    <option value="">-select-</option>
                    <!-- Options will be dynamically loaded by the itineraryHandling.js -->
                </select>
            </section>

            <button type="submit">Calculate Travel Plan</button>
        </form>

        <div id="itineraryResults">
            <!-- Results will be displayed here after calculation -->
        </div>
    </main>

    <footer>
        <p>&copy; 2024 Accessible Travel Guide. All rights reserved.</p>
        <p>Follow us on [Social Media Links]</p>
    </footer>

    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }
        document.getElementById('itineraryForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent the default form submission behavior
            displayTravelPlan(); // Function to calculate and display the itinerary
        });

        function displayTravelPlan() {
            const resultsDiv = document.getElementById('itineraryResults');
            const destination = document.getElementById('destinationSelect').value;
            const transportation = document.getElementById('transportationSelect').value;
            const accommodation = document.getElementById('accommodationSelect').value;
            const service = document.getElementById('serviceSelect').value;

            // Validate all selections
            if (!destination || !transportation || !accommodation || !service) {
                alert('Please select an option from each category.');
                ['destinationSelect', 'transportationSelect', 'accommodationSelect', 'serviceSelect'].forEach(id => {
                    const selectElement = document.getElementById(id);
                    if (!selectElement.value) {
                        selectElement.style.border = '2px solid red';
                    } else {
                        selectElement.style.border = 'none';
                    }
                });
                return;
            }

            // Display results
            resultsDiv.innerHTML = `<p>Your travel plan: Go to ${destination} with ${transportation}, stay at ${accommodation}, and enjoy ${service}.</p>`;
        }
    </script>
</body>
</html>
